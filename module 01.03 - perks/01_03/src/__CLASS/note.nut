// the directory must be ordered str -> add -> tree
// this is because the later categories depend on the previous